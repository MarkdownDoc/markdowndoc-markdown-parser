{"version":3,"sources":["..\\..\\src\\index.js"],"names":[],"mappings":";;;;;;wBAAiB,WAAW;;;;2BACX,cAAc;;;;0BACR,aAAa;;;;kCACf,sBAAsB;;;;oCACpB,wBAAwB;;;;oCACxB,wBAAwB;;;;qBAEhC,UAAS,OAAO,EAAE,QAAQ,EAAE;AACzC,WAAS,gBAAgB,GAAG;AAC1B,WAAO;AACL,gBAAU,EAAE;AACV,gBAAQ,EAAE;AACR,oBAAU,EAAE,CAAC;AACX,iBAAK,EAAE,GAAG;AACV,kBAAM,EAAE;AACN,oBAAM,EAAE,QAAQ;aACjB;WACF,EAAE;AACD,iBAAK,EAAE,GAAG;AACV,kBAAM,EAAE;AACN,oBAAM,EAAE,SAAS;aAClB;WACF,CAAC;SACH;AACD,eAAO,EAAE;AACP,oBAAU,EAAE,iCAAiC;SAC9C;OACF;KACF,CAAC;GACH;;AAED,WAAS,iBAAiB,CAAC,GAAG,EAAE,IAAI,EAAE;AACpC,QAAI,OAAO,CAAC,SAAS,EAAE;AACrB,aAAO,EAAE,CAAC;KACX;;AAED,QAAI,IAAI,IAAI,yBAAK,WAAW,CAAC,IAAI,CAAC,EAAE;AAClC,UAAI;AACF,eAAO,yBAAK,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,KAAK,CAAC;OACxC,CAAC,OAAO,EAAE,EAAE;AACX,eAAO,EAAE,CAAC;OACX;KACF;;AAED,QAAI;AACF,aAAO,yBAAK,aAAa,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC;KACtC,CAAC,OAAO,EAAE,EAAE;AACX,aAAO,EAAE,CAAC;KACX;GACF;;AAED,WAAS,QAAQ,GAAG;AAClB,QAAM,EAAE,GAAG,4BAAe;AACxB,eAAS,EAAE,mBAAS,GAAG,EAAE,IAAI,EAAE;AAC7B,eAAO,iBAAiB,CAAC,OAAO,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;OAC9C;KACF,CAAC,CAAC;;AAEH,QAAI,OAAO,CAAC,UAAU,EAAE;AACtB,QAAE,CAAC,GAAG,mCAAY,CAAC;KACpB;;AAED,QAAI,OAAO,CAAC,eAAe,EAAE;AAC3B,QAAE,CAAC,GAAG,oCAAa,gBAAgB,EAAE,CAAC,CAAC;KACxC;;AAED,QAAI,OAAO,CAAC,QAAQ,EAAE;AACpB,QAAE,CAAC,GAAG,iCAAU,CAAC;KAClB;;AAED,WAAO,EAAE,CAAC;GACX;;AAED,WAAS,UAAU,GAAG;AACpB,QAAM,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;AAC7B,QAAM,IAAI,GAAG,sBAAK,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;;AAEvD,WAAO,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;GAC9C;;AAED,SAAO,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;CACtC","file":"parser.js","sourcesContent":["import read from 'read-file';\nimport hljs from 'highlight.js';\nimport MarkdownIt from 'markdown-it';\nimport checkbox from 'markdown-it-checkbox';\nimport linkscheme from 'markdown-it-linkscheme';\nimport responsive from 'markdown-it-responsive';\n\nexport default function(options, filepath) {\n  function responsiveOption() {\n    return {\n      responsive: {\n        'srcset': {\n          'header-*': [{\n            width: 480,\n            rename: {\n              suffix: '-small',\n            },\n          }, {\n            width: 768,\n            rename: {\n              suffix: '-medium',\n            },\n          }],\n        },\n        'sizes': {\n          'header-*': '(min-width: 48em) 33.3vw, 100vw',\n        },\n      },\n    };\n  }\n\n  function markdownHighlight(str, lang) {\n    if (options.highlight) {\n      return '';\n    }\n\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return hljs.highlight(lang, str).value;\n      } catch (__) {\n        return ''; // use external default escaping\n      }\n    }\n\n    try {\n      return hljs.highlightAuto(str).value;\n    } catch (__) {\n      return ''; // use external default escaping\n    }\n  }\n\n  function markdown() {\n    const md = new MarkdownIt({\n      highlight: function(str, lang) {\n        return markdownHighlight(options, str, lang);\n      },\n    });\n\n    if (options.linkscheme) {\n      md.use(linkscheme);\n    }\n\n    if (options.responsiveimage) {\n      md.use(responsive, responsiveOption());\n    }\n\n    if (options.checkbox) {\n      md.use(checkbox);\n    }\n\n    return md;\n  }\n\n  function renderHtml() {\n    const md = markdown(options);\n    const file = read.sync(filepath, { encoding: 'utf8' });\n\n    return md.render(file, { encoding: 'utf8' });\n  }\n\n  return renderHtml(options, filepath);\n}\n"]}